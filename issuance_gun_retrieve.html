<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>총기 불출 - 총기 인출</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #1F2B24;
            color: #E6E6E6;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow: hidden;
            padding: 20px;
            box-sizing: border-box;
        }

        .container {
            text-align: center;
            padding: 30px;
            max-width: 500px;
            width: 95%;
            background-color: #2F3B33;
            border-radius: 15px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.4);
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .quote-box {
            background-color: #3F4F45;
            border: 1px solid #4A5C50;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
            width: 100%;
            box-sizing: border-box;
        }

        .quote-box h3 {
            color: #7D5A3D;
            margin-top: 0;
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .quote-box p {
            font-size: 1.1em;
            line-height: 1.6;
            color: #CCCCCC;
        }

        .instruction-box {
            background-color: #3F4F45;
            border: 1px solid #4A5C50;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            width: 100%;
            box-sizing: border-box;
        }

        .instruction-box p {
            font-size: 1.3em;
            color: #A0D468;
            font-weight: bold;
        }

        .image-placeholder {
            width: 100%;
            height: 200px;
            background-color: #4A5C50;
            border-radius: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #E6E6E6;
            font-size: 1.5em;
            margin-bottom: 30px;
        }

        .confirm-button {
            width: 100%;
            padding: 18px 25px;
            font-size: 1.4em;
            font-weight: bold;
            color: white;
            background-color: #5A6D63;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }

        .confirm-button:active {
            background-color: #4A5C50;
            transform: translateY(2px);
        }

        /* Mobile Optimization */
        @media (max-width: 600px) {
            .container {
                padding: 20px;
            }
            .quote-box, .instruction-box {
                padding: 15px;
            }
            .quote-box h3, .instruction-box p {
                font-size: 1.1em;
            }
            .quote-box p {
                font-size: 1em;
            }
            .image-placeholder {
                height: 150px;
                font-size: 1.2em;
            }
            .confirm-button {
                font-size: 1.2em;
                padding: 15px 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="quote-box">
            <h3>적의 심장부를 꿰뚫는 용기<br>그대 손에 쥐어진 조국 수호의 의지!</h3>
            <p>오늘도 그대가 있기에<br>우리는 승리할 수 있습니다</p>
        </div>

        <div class="instruction-box">
            <p>지정된 장소에 총기를 불출 중입니다. 대기해주세요.<br>총기가 지정된 장소에 위치하였다면 확인해주세요.</p>
        </div>

        <div class="image-placeholder">
            총기 불출 예시 그림 모션
        </div>

        <button class="confirm-button" id="confirmButton">
            확 인
        </button>
    </div>

    <script>
        const confirmButton = document.getElementById('confirmButton');
        const urlParams = new URLSearchParams(window.location.search);
        const gunType = urlParams.get('gunType');
        // ammo 파라미터가 'true' 문자열인지 여부 (이전 페이지에서 받아옴)
        const hasAmmoFromParam = urlParams.get('ammo') === 'true';
        // ammoQty 파라미터가 'null'이 아닌지 확인 (이전 페이지에서 받아옴)
        const ammoQtyFromParam = urlParams.get('ammoQty');

        confirmButton.onclick = function() {
            let nextUrl = `issuance_gun_scan.html?gunType=${gunType}`;

            // 'ammo' 파라미터가 있다면 그 값을 그대로 전달
            if (urlParams.has('ammo')) {
                nextUrl += `&ammo=${urlParams.get('ammo')}`;
            }

            // 'ammoQty' 파라미터가 있다면 그 값을 그대로 전달
            // null 값이라도 일단 전달하여 다음 페이지에서 처리하도록 합니다.
            if (urlParams.has('ammoQty')) {
                nextUrl += `&ammoQty=${urlParams.get('ammoQty')}`;
            }
            
            window.location.href = nextUrl;
        };
    </script>
</body>
</html>